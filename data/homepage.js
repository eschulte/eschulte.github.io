var img = new Image();
var width = null;
var height = null;
var polygons = {"fit":3000337,"genome":[{"color":[30,228,126,0.6,30],"vertices":[[300,10.942085533026699],[249.89939207414514,17.49519536007881],[24.36270082327806,119.55333469747764],[300,236.11187453848365]]},{"color":[115,149,42,0.34,121],"vertices":[[2.0594924978119877,300],[31.48868492955944,90.95814576722469],[300,0]]},{"color":[94,11,78,0.9,0.92],"vertices":[[60.029690872259025,300],[0,300],[0.7155271678600741,0],[275,300]]},{"color":[146,228,239,0.48],"vertices":[[226.05189007990774,232.5625473917515]]},{"color":[215,78,101,0.82,72],"vertices":[[139.09839375216802,118.45688785243439],[2.2550526823534938,300],[300,1.9535955905164997],[300,233.40798427575348]]},{"color":[124,240,20,0.35,18],"vertices":[[300,274.94742155789095],[300,0],[0,0]]},{"color":[8,137,249,0.73,147],"vertices":[[126.85416869479133,258.07866364730023],[300,0],[300,0],[178.92194583444603,0]]},{"color":[22,122,47,0.15],"vertices":[[248.55176062537498,300]]},{"color":[245,203,198,0.61],"vertices":[[300,300],[0,267.8731962064336],[45.749813867334126,0],[0,300]]},{"color":[200,40,241,0.09],"vertices":[[66,31],[244,162]]},{"color":[219,83,63,0.4,69],"vertices":[[0,289.88223129776475],[0,117.40839152494144],[140.43530901174455,185.5057529855116]]},{"color":[83,10,23,0.8],"vertices":[[35,189]]},{"color":[214,98,10,0.99],"vertices":[[133,231],[232,105],[28,227]]},{"color":[95,99,186,0.15],"vertices":[[0,85],[50,91]]},{"color":[12,240,225,0.08],"vertices":[[36,271],[113,259]]},{"color":[56,125,20,0.34,132],"vertices":[[12.236451143101363,300],[300,116.55448854554024],[300,300]]},{"color":[248,52,214,0.55],"vertices":[[300,95.23888941841108],[172.18551536203293,106.4715220974026],[164.34388028919363,90.88934666427369],[300,300]]},{"color":[1,70,37,0.51,34],"vertices":[[300,42.998640161543506],[26.369094470132268,300],[179.2326089675721,300],[204.90637961355924,286.7389986270341]]},{"color":[194,168,221,0.28,0.28],"vertices":[[0,120.53652402438874],[0,300],[271.1609476463563,76.91119571812129]]},{"color":[216,226,42,0.45,0.42],"vertices":[[117.38322760295182,92.18081515942876],[185.16237392882033,86.42808651440667],[141.89860378406019,151.43479651464682],[184.6919644077835,186.80360632992603]]},{"color":[28,5,33,0.77],"vertices":[[74.767244351257,300],[300,300],[0,4.160135871375019],[300,0]]},{"color":[238,110,99,0.52,0.48],"vertices":[[300,202.62698902356254],[0,165.93107389428707],[0,300],[0,300]]},{"color":[136,154,1,0.91],"vertices":[[218.85446260887682,300],[261.4285211011656,296.3910157183784]]},{"color":[237,149,190,0.35,0.34],"vertices":[[166.1443393958387,282.65264645853887],[0,300],[138.4034632280023,0],[167.0168719806834,300]]},{"color":[196,222,125,0.63],"vertices":[[300,0],[202.0770867495375,300],[300,27.444989477530044]]},{"color":[242,50,179,0.08],"vertices":[[258,215],[237,220],[277,98],[126,27]]},{"color":[195,27,36,0.98,187],"vertices":[[0,189.16669710174799],[5.2102235627244795,0],[156.34867460209014,195.50915072196167]]},{"color":[105,5,49,0.92,44],"vertices":[[40.77865684687882,300],[300,300],[275,267],[76.66102353397628,125.59269006726387]]},{"color":[2,50,46,0.83],"vertices":[[0,267.6382373224816],[0,0],[221.67873212206018,0]]},{"color":[41,50,62,0.3,63],"vertices":[[62,111],[59,91],[74,234],[64,289]]},{"color":[207,135,229,0.48],"vertices":[[13,118],[76,53],[237,85]]},{"color":[66,1,166,0.25],"vertices":[[23,76]]},{"color":[14,126,104,0.43,13],"vertices":[[284.1763045213468,300],[300,300],[240.0647015167022,50.993527913627986],[41.22568034234993,275.64111524424754]]},{"color":[230,122,189,0.81,210],"vertices":[[167.07760192373533,125.52182201815359],[0,0],[0,111.90168184176989]]},{"color":[80,165,233,0.94,0.94],"vertices":[[218.7544333429632,0],[43.504523958900705,109.10797961760233],[0,108.23360666841532],[0,0]]},{"color":[187,74,123,0.05],"vertices":[[0,0]]},{"color":[177,234,205,0.79,0.74],"vertices":[[143,1],[219,143],[300,40]]},{"color":[220,67,242,0.4],"vertices":[[267,183],[143,231],[79,212],[298,75]]},{"color":[39,242,211,0.59],"vertices":[[300,190.3579334543081],[300,285.48594597466763],[238.7979940167492,300],[292.120147772975,201.94417768986486]]},{"color":[168,31,43,0.04,43],"vertices":[[162,190],[24,212],[191,51]]},{"color":[14,191,193,0.75,204],"vertices":[[0,300],[300,17.50115242336375]]},{"color":[56,236,243,0.52],"vertices":[[37.52932428513347,0],[0,107.88888511651695],[102.78786490938558,98.72605896033912]]},{"color":[208,166,253,0.35,193],"vertices":[[0,293],[300,0],[294.30746508008383,272],[54.80706251273273,300]]},{"color":[68,233,248,0.61,66],"vertices":[[85.05915833184778,20.01751465764069],[8.907452006735301,84.94035127344975],[15.130485034566618,14.427243398092411]]},{"color":[56,192,124,0.46,52],"vertices":[[300,155.8914632071344],[300,232.24470393942107],[0,300],[0,242.33117260663926]]},{"color":[69,127,208,0.48,140],"vertices":[[0,0],[300,0],[267.00952198088874,252.13961887607627]]},{"color":[74,82,253,0.95],"vertices":[[300,91.57392211597914],[138.67853420996215,0],[0,0],[0,0]]},{"color":[124,240,20,0.35,18],"vertices":[[258.448171919328,274.94742155789095],[300,0],[0,0]]},{"color":[240,232,151,0.4,255],"vertices":[[0,0],[72.83925335414403,34.421184950732254],[112.61745591267385,109.6868528378622],[253.94244408671904,0]]},{"color":[196,16,14,0.21],"vertices":[[162,285],[136,40],[46,269]]},{"color":[233,224,109,0.21],"vertices":[[0,0],[121.92113133010196,23.76623699489835]]},{"color":[88,93,29,0.2,29],"vertices":[[175.24173690996201,165.53010418137902],[159.59068527576113,121.56359950716279],[184.90180553254228,119.01689812276389]]},{"color":[235,148,217,0.37,195],"vertices":[[300,0],[259.0261743373437,260.2564490145975],[50.96053929040389,0],[15.270932471794353,23.339636140864442]]},{"color":[41,50,62,0.3,0.27],"vertices":[[62,111],[59,91],[82,256],[64,289]]},{"color":[126,185,156,0.46],"vertices":[[271.3766721561638,219.08467256827993],[76.38639527767057,107.79803498617235],[21.68995493451314,0],[270.8003801676556,0]]},{"color":[253,168,174,0.44,188],"vertices":[[0,108.45851728494864],[133.83092844526672,133.3688861437351],[5.470721839634237,0]]},{"color":[105,120,185,0.17],"vertices":[[300,44.80432134087937],[114.12214477712217,13.00859239800917],[76.26488671935226,8.342628681269929],[300,6.401003810414039]]},{"color":[46,40,54,0.65,38],"vertices":[[228,255],[37,106],[108,133],[245,287]]},{"color":[213,209,138,0.75],"vertices":[[158.09451116971877,146.08012177183411],[0,0],[0,61.50298783505602],[165.09044473011318,8.07331073155649]]},{"color":[253,168,174,0.44,0.41],"vertices":[[0,107.45851728494864],[169.83092844526672,133.3688861437351],[5.470721839634237,0]]},{"color":[222,97,168,0.14],"vertices":[[6.116999419224925,0],[0,70.24437816726942],[224.67684678362204,0]]},{"color":[41,77,192,0.39,77],"vertices":[[62,216],[240,76],[29,172]]},{"color":[56,219,115,0.09],"vertices":[[237,296]]},{"color":[2,7,81,0.05],"vertices":[[0,47.524656341197954],[0,0],[203.36134689614727,102.42079553738353]]},{"color":[247,103,149,0.09],"vertices":[[108,98]]},{"color":[224,254,229,0.55,255],"vertices":[[54,96],[69,114],[7,119],[61,62]]},{"color":[76,38,79,0.79,70],"vertices":[[300,300],[11.157069728478461,204.02235370936924],[224.95993480922755,82.21071458755097]]},{"color":[151,131,5,0.49,5],"vertices":[[290.5099966264056,103.95839113978565],[300,215.4886307156547],[126.438756945037,240.86351408048765],[151.92976958027543,300]]},{"color":[216,199,156,0.39],"vertices":[[259,201]]},{"color":[2,41,3,0.25],"vertices":[[172.80591352374825,214.32473732330175],[227.31404703716223,119.71460484626549],[289.9395344149258,147.58812766931848],[235.15684170916046,222.8018696579236]]},{"color":[43,9,32,0.33,32],"vertices":[[213,272]]},{"color":[152,5,8,0.63,0.59],"vertices":[[300,124.63655382587734],[300,300],[291.0549491410199,196.157066254061],[90.0781933918628,300]]},{"color":[247,169,202,0.21,255],"vertices":[[0,0],[259.2781011667173,0],[191.24112785739425,97.1878376802402]]},{"color":[116,4,12,0.22],"vertices":[[187,258],[251,78],[38,123],[204,297]]},{"color":[210,163,192,0.54],"vertices":[[122.98325273916456,33.53225469561437],[70.1562893033873,121.66689549545984],[0,0]]},{"color":[181,58,209,0.67,195],"vertices":[[300,262.883064561334],[300,300],[300,300],[243.45201651516373,278.58461152928476]]},{"color":[37,147,156,0.82,0.88],"vertices":[[108,251],[291,226],[175,270]]},{"color":[129,189,23,0.54],"vertices":[[265,290]]},{"color":[124,174,22,0.63,22],"vertices":[[122.61330546317413,74.28426024865284],[34.29535358486521,86.92511115533392],[183.9042583380135,70.33278271676892],[142.75450203998867,55.03652664777362]]},{"color":[179,175,155,0.41],"vertices":[[0,112.55074496369019],[31.23549244622339,0],[41.956583984777154,35.78352977545296],[0,0]]},{"color":[146,179,201,0.39,137],"vertices":[[172.42374881552615,0],[64.44054098294998,56.505463655930754],[0,0],[0,64.62577123438845]]},{"color":[195,208,195,0.17],"vertices":[[0,0],[78.55246873794448,94.20512152219894],[0,113.26071959205112]]},{"color":[61,133,121,0.18,0.16],"vertices":[[0,50.92742234026346],[81.68752340443172,0],[0,0],[0,94.048876427696]]},{"color":[183,173,187,0.87,198],"vertices":[[45.87673180818754,0],[182.08768321301432,0],[300,278.2937864234666],[300,44.59194062706089]]},{"color":[239,91,243,0.59],"vertices":[[246,1],[264,90]]},{"color":[87,54,37,0.74],"vertices":[[174,148]]},{"color":[41,50,62,0.3,0.27],"vertices":[[62,111],[59,91],[82,256],[64,298]]},{"color":[36,73,185,0.34],"vertices":[[265,152.44092215618707]]},{"color":[173,52,13,0.83,13],"vertices":[[300,300],[289.6215950786637,150.35882835318807],[151.4551499037972,217.57371096043283],[300,273.11394575768395]]},{"color":[0,54,71,0.48],"vertices":[[215,106],[170,151],[296,172],[151,71]]},{"color":[197,210,232,0.32,248],"vertices":[[121,16],[119,97],[65,64],[22,73]]},{"color":[188,172,178,0.64],"vertices":[[225.50283333897949,143.8442106932617],[300,0],[37.04622720289632,0]]},{"color":[7,21,161,0.5],"vertices":[[60.5242265085288,17.01950920163138],[24.498253255915927,60.47994925176111]]},{"color":[26,42,48,0.91,46],"vertices":[[300,295.104872006301],[300,140.66263562044486],[43.94258968061271,268]]},{"color":[183,184,183,0.46,194],"vertices":[[300,271],[0,234.4878623764787],[16.41352771320308,300],[0,300]]},{"color":[4,38,213,0.52,0.55],"vertices":[[150.97429306374116,209.41808470895577],[173.84150530959505,147.20235767767875],[200.78737521919456,173.18219517910669]]},{"color":[83,119,29,0.47,109],"vertices":[[73.99374964243226,191.62919228056992],[150.50321802017191,22.456795708465947],[267.9870157886686,190.57718071395342]]},{"color":[7,11,71,0.2,7],"vertices":[[71,122],[182,80],[268,231]]},{"color":[26,42,48,0.91,26],"vertices":[[270.8795382697158,300],[262,131.66263562044486],[32.94258968061271,300]]},{"color":[171,251,234,0.33,167],"vertices":[[214.04955814867265,151.13151470638707],[300,103.83797866260716],[104.02777703328042,115.62609492257559],[300,64.9034790022531]]},{"color":[54,200,194,0.02,0.02],"vertices":[[0,50.29983739373051],[35.4807101074793,0],[293.34608488904973,0],[56.95468863290989,112.48146300756298]]},{"color":[30,202,65,0],"vertices":[[278,175],[109,243]]},{"color":[36,47,22,0.92],"vertices":[[87.93846745299646,300],[113.88038164847104,239.6305546868075],[300,273.16913282765796],[300,203.25770534006446]]},{"color":[125,99,15,0.09],"vertices":[[229,135],[9,196],[82,135],[285,253]]},{"color":[173,86,81,0.1,82],"vertices":[[249,158],[184,283],[87,169]]},{"color":[64,24,60,0.45,22],"vertices":[[171.7713010642094,30.81885511083445],[86.57742829313096,214.81269203484538],[44.14836795345741,142.0079382533468]]},{"color":[84,255,182,0.72],"vertices":[[179.84669760279547,300]]},{"color":[130,26,21,0.1],"vertices":[[274.295096155604,139.66939990011292],[140.44632140765418,66.71700381777637],[294.5427070673136,285.270318092742]]},{"color":[126,123,47,0.12],"vertices":[[179,17],[133,226]]},{"color":[38,227,64,0.11],"vertices":[[300,300],[300,186.6582547650046],[276,252.36599346971866],[300,226.50652715607114]]},{"color":[208,209,186,0.66,0.7],"vertices":[[70.49532967467357,38.65141542763922],[189.606828247733,184.96714512520902],[133.2090103071486,120.96971764203772],[27.902821848893197,88.0720522576155]]},{"color":[172,140,142,0.12],"vertices":[[193.03852817145,240.85047140664574],[249.25770578938108,233.35041591445466],[249.62555880094908,239.2713622061756],[218.41149075158876,271.2874576561559]]},{"color":[83,60,157,0.83,74],"vertices":[[186.62533033474432,199.74395671543135],[194.75708590634628,162.95215940167992]]},{"color":[30,71,6,0.1],"vertices":[[142,191],[219,183],[175,81],[281,190]]},{"color":[171,251,234,0.33,156],"vertices":[[213.04955814867265,178.13151470638707],[263,112.83797866260716],[92.02777703328042,112.62609492257559],[300,64.9034790022531]]},{"color":[222,192,179,0.29,242],"vertices":[[0,54.090258491966964],[125.86891630996831,72.05568378753728],[140.31135952470663,133.06842879190577],[33.983584175496105,6.126429907494071]]},{"color":[61,8,52,0.27,54],"vertices":[[148,272],[22,221],[242,289],[277,139]]},{"color":[92,83,46,0.82,85],"vertices":[[0,176],[226,169],[113,278]]},{"color":[116,141,45,0.18,0.18],"vertices":[[183.53600354856263,64.72804051673734],[197.8150873836899,300],[34.47972340293694,300]]},{"color":[89,29,43,0.82],"vertices":[[118,102],[201,156],[169,27],[150,90]]},{"color":[86,49,115,0.06],"vertices":[[114.38813058694257,222.7205889077394]]},{"color":[199,125,197,0.16],"vertices":[[206.29237441322255,150.03386537406868],[193.15705439250888,205.9806280354186],[152.00680379980366,197.59939823055765]]},{"color":[33,99,29,0.44,31],"vertices":[[9,188],[80,276],[205,114],[155,171]]},{"color":[252,255,236,0.2],"vertices":[[187,38],[192,145],[218,79]]},{"color":[178,162,134,0.15],"vertices":[[141,154],[167,107]]},{"color":[18,94,23,0.24,19],"vertices":[[294,142],[108,101],[0,145]]},{"color":[89,6,140,0.12,92],"vertices":[[0,178.04426123205104],[101.66610548500245,300],[269.16105199997793,116.16021843308363]]},{"color":[227,217,236,0.27,0.26],"vertices":[[43,109],[274,143],[112,59]]},{"color":[142,190,68,0.06,0.06],"vertices":[[151.20215819633697,0],[292.486880092968,40.823176537000506],[246.13096866010662,178.82661133756935],[200.8991312754798,0]]},{"color":[44,10,18,0.33],"vertices":[[1,230],[18,136],[117,237]]},{"color":[199,180,171,0.8,177],"vertices":[[107,19],[300,68],[274,113]]},{"color":[59,237,94,0.01],"vertices":[[43.7140752182986,23.63544063965756],[83.41501777961741,114.80604076881224],[0,77.41721190821718],[19.552461199926142,0]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[60,289]]},{"color":[1,254,172,0.05],"vertices":[[95.53284885215996,0]]},{"color":[184,98,179,0.09,0.09],"vertices":[[194.5578690239621,300],[275.1053447320488,300],[106.95424545943348,300],[238.87246222148136,113.41159137007364]]},{"color":[201,5,102,0.06,215],"vertices":[[91.76532154864158,114.13467232406722],[189.17134770353994,73.16120191425208],[193.89161048807625,93.15631340738224],[188.75733310246915,187.1939180017891]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[54,200,194,0.02,195],"vertices":[[0,50.29983739373051],[35.4807101074793,0],[270.34608488904973,0],[56.95468863290989,112.48146300756298]]},{"color":[210,139,144,0.1,135],"vertices":[[41,208],[220,220],[219,149]]},{"color":[129,231,61,0.15],"vertices":[[133.69767140589164,103.84602753789]]},{"color":[193,227,177,0.91],"vertices":[[251,98],[175,113],[130,75],[198,141]]},{"color":[54,200,194,0.02,176],"vertices":[[0,55.29983739373051],[35.4807101074793,0],[295.34608488904973,0],[57.95468863290989,121.48146300756298]]},{"color":[20,240,146,0.47],"vertices":[[195,75],[221,292]]},{"color":[163,181,165,0.16,179],"vertices":[[265.71497571534735,144.00144150203573],[0,0],[300,19.537815354756418],[227.63838951590031,122.34106460684166]]},{"color":[227,217,236,0.27,203],"vertices":[[43,106],[300,151],[113,46]]},{"color":[91,106,250,0.98],"vertices":[[37.60947728963308,183.49910311416534],[9.715364710722866,300]]},{"color":[227,217,236,0.27,230],"vertices":[[43,106],[274,148],[95,63]]},{"color":[89,112,203,0.11,109],"vertices":[[223.46558406437674,196.31572726868194],[173.25650053721634,146.60670045544845],[169.880235593114,208.366612314171],[215.59450690929077,206.8391137609168]]},{"color":[227,217,236,0.27],"vertices":[[43,106],[274,143],[77,63]]},{"color":[54,200,194,0.02,56],"vertices":[[0,55.29983739373051],[36.4807101074793,0],[282.34608488904973,0],[56.95468863290989,112.48146300756298]]},{"color":[78,67,87,0.62,85],"vertices":[[153,275],[80,297],[74,230],[135,101]]},{"color":[169,52,88,0.92],"vertices":[[119.44228006547846,129.83481403940883],[135.98758970081474,151.14180225959592],[134.27348670326558,124.23795738674765],[143.84173153129638,144.9065835286512]]},{"color":[96,158,50,0.17,56],"vertices":[[82,179],[236,250],[174,78]]},{"color":[227,217,236,0.27,0.27],"vertices":[[39,106],[300,143],[93,61]]},{"color":[187,233,201,0.35,0.34],"vertices":[[177.70046375973743,76.01179110139577],[300,154.4530550315922],[300,55.130857282048524]]},{"color":[85,17,42,0.08,39],"vertices":[[175,157],[185,55],[171,136]]},{"color":[124,97,9,0.53],"vertices":[[134,67],[179,125],[171,148],[121,95]]},{"color":[54,200,194,0.02,201],"vertices":[[0,51.29983739373051],[35.4807101074793,0],[288.34608488904973,0],[56.95468863290989,101.48146300756298]]},{"color":[254,209,231,0.12,0.12],"vertices":[[180,115],[195,25],[300,126]]},{"color":[227,217,236,0.27,0.27],"vertices":[[43,115],[300,128],[117,53]]},{"color":[134,6,238,0.02],"vertices":[[300,118.15115597554802],[272.75613926321876,217.66207624829246]]},{"color":[12,35,33,0.43],"vertices":[[64.17814317120431,187.228400690633],[141.16398380935152,105.25842362165842],[155.1456793380491,147.10144976855952],[70.89823429336803,106.29659846029516]]},{"color":[216,100,68,0.14,96],"vertices":[[164,154],[193,76],[108,52]]},{"color":[53,135,67,0.02],"vertices":[[71,208],[11,177]]},{"color":[41,201,153,0.49],"vertices":[[264,133],[140,266]]},{"color":[138,40,106,0.1],"vertices":[[51.02150653366499,299.15690950674895],[132.63476512213322,218.75019891730534],[159.02897095991005,300]]},{"color":[54,76,57,0.27,54],"vertices":[[34,300],[114,231],[264,257]]},{"color":[103,68,118,0.28,70],"vertices":[[82.80435000990269,170.03719046298335],[300,169.8345761137703],[243,168.81330646330372],[158.24062371123318,300]]},{"color":[72,95,121,0.86,117],"vertices":[[0,66.16421809722797]]},{"color":[177,103,209,0.37,161],"vertices":[[189,30],[132,65]]},{"color":[133,245,58,0.41,255],"vertices":[[240.23637320491758,266.3075346199902],[244.79269587833582,283],[299.2377794745512,272.79438492967773]]},{"color":[96,66,65,0.21],"vertices":[[93,276],[262,185],[51,296],[164,136]]},{"color":[254,209,231,0.12,221],"vertices":[[180,115],[221,25],[300,126]]},{"color":[133,245,58,0.41,229],"vertices":[[240.23637320491758,266.3075346199902],[244.79269587833582,278],[299.2377794745512,274.79438492967773]]},{"color":[168,31,43,0.04,187],"vertices":[[162,182],[22,212],[187,51]]},{"color":[14,222,234,0.39],"vertices":[[6,121],[41,298]]},{"color":[241,251,93,0.51],"vertices":[[145.8800863486724,159.84274441435835],[135.02287621762918,137.76062812583123],[163.29717070642886,145.9820461456571]]},{"color":[53,47,214,0.58],"vertices":[[206,136],[236,29]]},{"color":[206,242,74,0.03,251],"vertices":[[125,96],[64,229],[237,246],[4,151]]},{"color":[102,158,228,0.05,158],"vertices":[[31.296531151461124,0],[0,57.74188246683522],[96.69148244069001,58.34601283906619],[8.669908990955065,0]]},{"color":[180,207,226,0.16,0.16],"vertices":[[192,144],[299,101],[234,39]]},{"color":[178,60,0,0.16,60],"vertices":[[300,300],[151.32882148462517,286],[300,264.30457614085265],[300,71.61712897991328]]},{"color":[216,100,68,0.14,237],"vertices":[[164,169],[193,76],[108,57]]},{"color":[233,142,128,0.5,158],"vertices":[[149.68871731455113,179.87784081611696],[125.97285833101657,153.55475529902708],[189.09774605412733,119.30386541499351]]},{"color":[38,90,112,0.46,0.51],"vertices":[[139,134]]},{"color":[216,100,68,0.14,100],"vertices":[[164,154],[193,76],[120,52]]},{"color":[155,116,179,0.35,0.38],"vertices":[[238.5740812551865,279.65538224195],[300,272.7594771556416],[296.92335002550954,288.4148557557969],[268.89984148595835,261.6049267278002]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[60,289]]},{"color":[197,189,167,0.07,169],"vertices":[[181,154],[115,46],[60,80]]},{"color":[129,40,196,0.38],"vertices":[[0,192.2492383074271]]},{"color":[196,243,250,0.22],"vertices":[[38.380715366764235,208.01853171197362],[74.1807518883191,271],[45.24854356889065,300]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[197,189,167,0.07,0.07],"vertices":[[175,154],[120,46],[60,81]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,277],[60,289]]},{"color":[232,217,254,0.07,0.07],"vertices":[[300,99],[74,107],[122,60],[110,3]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,277],[60,289]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[155,79,92,0.03],"vertices":[[135.88422573123793,300],[99.79476237144834,300],[223.5125163150538,195.08362696135111]]},{"color":[41,50,62,0.3],"vertices":[[62,117],[59,91],[74,234],[57,289]]},{"color":[41,50,62,0.3,0.27],"vertices":[[62,111],[59,91],[82,270],[64,300]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,294]]},{"color":[216,100,68,0.14],"vertices":[[164,154],[193,76],[108,52]]},{"color":[54,200,194,0.02],"vertices":[[0,53.29983739373051],[35.4807101074793,0],[298.34608488904973,0],[56.95468863290989,112.48146300756298]]},{"color":[182,117,2,0.84],"vertices":[[259,83]]},{"color":[78,53,247,0.02],"vertices":[[168.8797552935667,41.471655968258915],[188.29884289097407,159.4663025454326]]},{"color":[112,65,127,0.09,69],"vertices":[[258,251],[66,131],[7,276],[191,223]]},{"color":[41,50,62,0.3,67],"vertices":[[62,119],[59,89],[74,234],[64,289]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,262],[60,289]]},{"color":[52,243,152,0.61],"vertices":[[233,113]]},{"color":[85,17,42,0.08,39],"vertices":[[180,168],[185,55],[177,136]]},{"color":[20,50,24,0.15],"vertices":[[286,210.57250277132596],[207.59350511906266,147.6954489266593],[270,300]]},{"color":[14,16,20,0.39],"vertices":[[300,272.03243662667626],[196.28672830573979,260.673169099229],[300,198.99060276607025],[300,136.18071586468125]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[93,276],[64,289]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[93,276],[64,289]]},{"color":[105,52,86,0.03,0.03],"vertices":[[25,220],[166,213],[126,148]]},{"color":[109,223,252,0.46],"vertices":[[249.2430267498508,300],[300,300],[300,296.4936438910161]]},{"color":[41,201,153,0.49],"vertices":[[241,133],[140,266]]},{"color":[85,17,42,0.08,39],"vertices":[[167,168],[185,55],[177,136]]},{"color":[115,14,27,0.21],"vertices":[[71,238]]},{"color":[113,83,126,0.03],"vertices":[[11,251],[78,133],[128,207]]},{"color":[155,239,8,0.57,8],"vertices":[[254,285],[100,276]]},{"color":[154,20,14,0.92,0.81],"vertices":[[204.51226673096312,216.21747834606091]]},{"color":[41,201,153,0.49],"vertices":[[264,133],[140,266]]},{"color":[67,240,184,0.6],"vertices":[[61.967805114946884,0]]},{"color":[85,17,42,0.08,39],"vertices":[[157,140],[185,55],[177,136]]},{"color":[148,33,122,0.11],"vertices":[[253.03510083978406,269.9628816203775],[192.34261590313042,256.69793646123605]]},{"color":[47,193,242,0.61],"vertices":[[280,34]]},{"color":[166,61,233,0.07],"vertices":[[137.37879579210318,0]]},{"color":[133,89,73,0.84],"vertices":[[54.201393862316486,46.32409108512652]]},{"color":[172,123,67,0.26],"vertices":[[277.37922755927707,300],[270.71803117131174,286.408315236305],[276.7017386190771,295.46514262938825],[214.756417410054,300]]},{"color":[85,17,42,0.08,39],"vertices":[[157,140],[185,55],[177,136]]},{"color":[85,17,42,0.08,0.08],"vertices":[[167,157],[185,55],[177,136]]},{"color":[161,234,177,0.06,187],"vertices":[[95,201],[71,153],[176,102]]},{"color":[200,206,2,0.02,2],"vertices":[[70,229],[219,101],[230,275]]},{"color":[41,201,153,0.49],"vertices":[[264,133],[140,266]]},{"color":[247,56,199,0.38],"vertices":[[147,22]]},{"color":[41,201,153,0.49],"vertices":[[264,133],[140,266]]},{"color":[41,201,153,0.49],"vertices":[[264,133],[140,266]]},{"color":[148,181,37,0.5],"vertices":[[71,39],[44,21]]},{"color":[150,180,168,0.35],"vertices":[[0,0],[59.09553892833553,0],[126.53274340140037,3.480795774718956]]},{"color":[66,60,85,0.1],"vertices":[[81,293],[38,152]]},{"color":[85,17,42,0.08,39],"vertices":[[167,168],[185,55],[177,136]]},{"color":[85,17,42,0.08,39],"vertices":[[167,168],[185,55],[177,136]]},{"color":[41,50,62,0.3,0.27],"vertices":[[62,111],[59,91],[82,256],[64,300]]},{"color":[131,124,229,0.19],"vertices":[[173.63737743631324,125.68025426506352],[143.17407863843226,118.03555653252806],[167.1691411685075,150.457222493795],[172.01125561655488,171.41387707641314]]},{"color":[41,50,62,0.3,41],"vertices":[[62,111],[59,91],[82,256],[64,298]]},{"color":[85,17,42,0.08,39],"vertices":[[164,168],[185,55],[177,136]]},{"color":[77,232,151,0.74,153],"vertices":[[238.55635801226205,179.95889740459995]]},{"color":[41,50,62,0.3,0.27],"vertices":[[62,111],[59,91],[82,256],[64,300]]},{"color":[85,17,42,0.08,39],"vertices":[[167,168],[185,55],[177,136]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[41,50,62,0.3],"vertices":[[62,111],[59,91],[74,234],[57,289]]},{"color":[58,52,28,0.66],"vertices":[[88,138],[18,150],[76,217]]},{"color":[85,17,42,0.08,39],"vertices":[[180,168],[185,55],[177,136]]},{"color":[165,106,183,0.2],"vertices":[[145.61141838485835,131.0171474699679],[126.41546607455189,145.88604082503667],[154.49690824456508,128.92814621674754],[144.30421589476484,124.50273580029116]]}],"url":"file:///home/eschulte/lisp/local-projects/gpolygon/images/eric.jpg","evals":2450681,"tournament-size":2,"pop-size":2048,"max-verts":4,"max-length":256};

function setImage(url, cb) {
    var me = document.getElementById("me");
    img = new Image();
    img.onload = function () {
        me.width = img.width;
        me.height = img.height;
        width = img.width;
        height = img.height;
        me.getContext("2d").drawImage(img, 0, 0);
        return cb ? cb() : null;
    };
    img.onerror = function () {
        return alert("server at " + img.src + " does not support CORS");
    };
    img.crossOrigin = "anonymous";
    return img.src = url || prompt("enter an image url (from a CORS enabled server)", "./images/mona-lisa.png");
};
var refreshDelay = 600000;
function setup(){
  document.getElementById("me").oncontextmenu = function(){
    setImage("./data/eric-schulte.jpg");
    document.getElementById("me").onmouseout = function(){};
    document.getElementById("me").onmouseover = function(){};
    showPolygon(polygons);
    return false;
  };
  document.getElementById("me").onmouseover = function(){
    setImage("./data/eric-schulte.png",
             function(){setTimeout(function(){showPolygon(polygons)}, refreshDelay)});
    return false;
  };
  document.getElementById("me").onmouseout = function(){
    setImage("./data/eric-schulte.jpg",
             function(){setTimeout(function(){showPolygon(polygons)}, refreshDelay)});
    return false;
  };
  setImage("./data/eric-schulte.jpg",
           function(){setTimeout(function(){showPolygon(polygons)}, refreshDelay)});
};
function loadPolygon(data) {
    var data136 = data || prompt("paste in the JSON of a polygon");
    if (data136 != null) {
        var individual = JSON.parse(data136);
        return setImage(individual["url"], function () {
            evaluate(individual);
            stop();
            clear();
            individual["genome"].map(draw);
            return window.pop.sort(fitSort).splice(-1, 1, individual);
        });
    };
};
var showDelay = 50;
function showPolygon(data) {
    var showHelper = function (rest) {
        if (rest.length > 1) {
            draw(rest.shift());
            return setTimeout(function () {
                return showHelper(rest);
            }, showDelay);
        } else {
          setTimeout(function(){setup()}, 5000);
        };
    };
  clear();
  showHelper(data["genome"]);
};
function clear() {
    return document.getElementById("me").getContext("2d").clearRect(0, 0, width, height);
};
function drawColor(c) {
    return "rgba(" + c[0] + ", " + c[1] + ", " + c[2] + ", " + c[3] + ")";
};
function draw(poly) {
    var points = poly["vertices"].slice(0);
    var head = points.pop;
    var cx = document.getElementById("me").getContext("2d");
    cx.fillStyle = drawColor(poly["color"]);
    cx.beginPath();
    cx.moveTo(head[0], head[1]);
    points.map(function (point) {
        return cx.lineTo(point[0], point[1]);
    });
    cx.closePath();
    return cx.fill();
};
